# ==================================================================
# ğŸ“Œ VPS Scripts å…¨å±€é…ç½®æ–‡ä»¶
# ğŸ“ æ–‡ä»¶è·¯å¾„: config/vps_scripts.conf
# ğŸ“… æ›´æ–°æ—¥æœŸ: 2026-01-20
# ğŸš€ é€‚é…ç‰ˆæœ¬: v2.3.0+
# ==================================================================

# ------------------------------------------------------------------
# 1. åŸºç¡€é¡¹ç›®ä¿¡æ¯
# ------------------------------------------------------------------
SCRIPT_NAME="VPS Scripts"
SCRIPT_VERSION="2.3.0"
PROJECT_URL="https://github.com/everett7623/vps_scripts/"
UPDATE_CHECK_URL="https://raw.githubusercontent.com/everett7623/vps_scripts/main/version.json"

# ------------------------------------------------------------------
# 2. è·¯å¾„ä¸ç›®å½•é…ç½® (æ ¸å¿ƒ)
# ------------------------------------------------------------------
# è„šæœ¬å·¥ä½œæ ¹ç›®å½• (é€šå¸¸ç”± vps_main.sh åŠ¨æ€è·å–ï¼Œè¿™é‡Œä½œä¸ºé»˜è®¤å€¼)
BASE_DIR="/opt/vps_scripts"

# æ—¥å¿—æ–‡ä»¶è·¯å¾„
LOG_DIR="/var/log/vps_scripts"
LOG_FILE="${LOG_DIR}/main.log"

# æŠ¥å‘Šç”Ÿæˆç›®å½• (ç”¨äºå­˜æ”¾æµ‹é€Ÿã€å·¡æ£€æŠ¥å‘Š)
REPORT_DIR="${LOG_DIR}/reports"

# å¤‡ä»½ç›®å½• (ç”¨äºå­˜æ”¾é…ç½®æ–‡ä»¶å¤‡ä»½)
BACKUP_DIR="/var/backups/vps_scripts"

# ä¸´æ—¶ä¸‹è½½/ç¼“å­˜ç›®å½•
TEMP_DIR="/tmp/vps_scripts_cache"

# ------------------------------------------------------------------
# 3. æ—¥å¿—ä¸è°ƒè¯•å¼€å…³
# ------------------------------------------------------------------
# æ—¥å¿—çº§åˆ« (0=DEBUG, 1=INFO, 2=WARN, 3=ERROR)
# å»ºè®®æ—¥å¸¸ä½¿ç”¨è®¾ç½®ä¸º 1
LOG_LEVEL=1

# æ˜¯å¦å¯ç”¨æ—¥å¿—æ–‡ä»¶è®°å½• (true/false)
ENABLE_LOG=true

# å•ä¸ªæ—¥å¿—æ–‡ä»¶æœ€å¤§å¤§å° (MB)ï¼Œè¶…è¿‡è‡ªåŠ¨è½®è½¬
LOG_MAX_SIZE=10

# æ˜¯å¦å¯ç”¨è°ƒè¯•æ¨¡å¼ (è¾“å‡ºæ›´å¤šè¯¦ç»†ä¿¡æ¯)
DEBUG_MODE=false

# æ˜¯å¦å¯ç”¨å½©è‰²è¾“å‡º (å»ºè®®å¼€å¯ï¼Œæå‡ä½“éªŒ)
ENABLE_COLOR_OUTPUT=true

# ------------------------------------------------------------------
# 4. ç½‘ç»œä¸è¿æ¥é…ç½®
# ------------------------------------------------------------------
# é»˜è®¤ç½‘ç»œè¯·æ±‚è¶…æ—¶æ—¶é—´ (ç§’)
DEFAULT_TIMEOUT=30

# æ–‡ä»¶ä¸‹è½½æœ€å¤§é‡è¯•æ¬¡æ•°
DOWNLOAD_RETRIES=3

# æ˜¯å¦ä½¿ç”¨å›½å†…é•œåƒæº (CN_MIRROR)
# true: å¼ºåˆ¶ä½¿ç”¨å›½å†…æº (é˜¿é‡Œäº‘/æ¸…åæºç­‰)
# false: ä½¿ç”¨å®˜æ–¹æº
# auto: è„šæœ¬è‡ªåŠ¨æ£€æµ‹åœ°ç†ä½ç½®å†³å®š (æ¨è)
USE_CN_MIRROR="auto"

# å…¨å±€ä»£ç†è®¾ç½® (ç•™ç©ºåˆ™ä¸ä½¿ç”¨)
# æ ¼å¼ç¤ºä¾‹: "http://127.0.0.1:7890"
GLOBAL_PROXY=""

# ------------------------------------------------------------------
# 5. ç³»ç»Ÿä¾èµ–åŒ…å®šä¹‰ (é€‚é… install_deps.sh)
# ------------------------------------------------------------------
# åŸºç¡€å¿…å¤‡å·¥å…·åŒ… (æ‰€æœ‰æ¨¡å—éƒ½ä¾èµ–)
BASIC_PACKAGES="curl wget git vim nano unzip zip tar net-tools ca-certificates openssl sudo jq"

# ç½‘ç»œå·¥å…·åŒ… (ç”¨äºç½‘ç»œæµ‹è¯•æ¨¡å—)
NETWORK_PACKAGES="dnsutils iputils-ping mtr traceroute iperf3"

# å¼€å‘ç¼–è¯‘å·¥å…·åŒ… (ç”¨äºæºç ç¼–è¯‘å®‰è£…)
DEV_PACKAGES="build-essential automake autoconf libtool make gcc g++"

# ------------------------------------------------------------------
# 6. æœåŠ¡å®‰è£…é»˜è®¤ç‰ˆæœ¬ (é€‚é… service_install æ¨¡å—)
# ------------------------------------------------------------------
# Docker å®‰è£…æº: official (å®˜æ–¹), aliyun (é˜¿é‡Œäº‘), ustc (ä¸­ç§‘å¤§)
DOCKER_INSTALL_SOURCE="official"

# Web ç¯å¢ƒé»˜è®¤ç‰ˆæœ¬
NGINX_VERSION="1.24.0"      # ç¨³å®šç‰ˆ
MYSQL_VERSION="8.0"         # æ¨è 8.0 æˆ– 5.7
PHP_VERSION="8.2"           # æ¨è 8.1+
REDIS_VERSION="7.0"

# é¢æ¿å®‰è£…é»˜è®¤è®¾ç½®
BT_PANEL_INSTALL_MODE="stable"  # å®å¡”: stable / lts
PANEL_1PANEL_VERSION="latest"   # 1Panel

# ------------------------------------------------------------------
# 7. æ€§èƒ½ä¸ç½‘ç»œæµ‹è¯•é…ç½®
# ------------------------------------------------------------------
# æµ‹é€ŸèŠ‚ç‚¹é…ç½® (æ ¼å¼: åŸå¸‚è¿è¥å•†,åœ°å€)
SPEEDTEST_NODES="
å¹¿å·ç”µä¿¡,gz-telecom.speed.test.com
ä¸Šæµ·è”é€š,sh-unicom.speed.test.com
åŒ—äº¬ç§»åŠ¨,bj-mobile.speed.test.com
é¦™æ¸¯CN2,hk-cn2.speed.test.com
æ—¥æœ¬è½¯é“¶,jp-softbank.speed.test.com
ç¾å›½æ´›æ‰çŸ¶,la.speed.test.com
"

# IP è´¨é‡æ£€æµ‹ API (é¦–é€‰ ip.sb)
IP_QUALITY_API="https://api.ip.sb/geoip"

# ç¬¬ä¸‰æ–¹ä¼˜ç§€è„šæœ¬ URLs (ä¿æŒæ›´æ–°)
FUSION_SCRIPT_URL="https://raw.githubusercontent.com/spiritLHLS/ecs/main/ecs.sh" # èåˆæ€ª
YABS_SCRIPT_URL="https://raw.githubusercontent.com/masonr/yet-another-bench-script/master/yabs.sh" # YABS
SUPERSPEED_URL="https://raw.githubusercontent.com/ernisar/superspeed/master/superspeed.sh" # æµ‹é€Ÿ

# ------------------------------------------------------------------
# 8. ç³»ç»Ÿä¼˜åŒ–å‚æ•° (é€‚é… optimize_system.sh)
# ------------------------------------------------------------------
# é»˜è®¤æ—¶åŒº
DEFAULT_TIMEZONE="Asia/Shanghai"

# é»˜è®¤ DNS (Google, Cloudflare)
DEFAULT_DNS_SERVERS="8.8.8.8,1.1.1.1"

# Sysctl å†…æ ¸ä¼˜åŒ–å‚æ•° (å°†è¢«å†™å…¥ /etc/sysctl.conf)
SYSCTL_OPTIMIZATIONS="
net.ipv4.tcp_congestion_control=bbr
net.core.default_qdisc=fq
net.ipv4.tcp_fastopen=3
net.ipv4.tcp_syncookies=1
net.ipv4.tcp_tw_reuse=1
net.ipv4.ip_local_port_range=10000 65000
net.core.somaxconn=4096
net.ipv4.tcp_max_syn_backlog=8192
fs.file-max=1000000
"

# ==================================================================
# âš ï¸ æ³¨æ„: ä¿®æ”¹æ­¤æ–‡ä»¶åï¼Œå»ºè®®é‡æ–°è¿è¡Œè„šæœ¬æˆ– source åŠ è½½ç”Ÿæ•ˆ
# ==================================================================
