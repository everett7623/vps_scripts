# ==============================================================================
# 配置文件名称: vps_scripts.conf
# 仓库地址: https://github.com/everett7623/vps_scripts
# 文件路径: config/vps_scripts.conf
# 描述: VPS 综合管理工具箱全局配置文件
#       定义脚本运行时的默认参数、软件版本、第三方资源地址及系统优化选项。
# 作者: Jensfrank (Optimized)
# 版本: 1.1.0 (Standardized)
# 更新日期: 2026-01-20
# ==============================================================================

# ------------------------------------------------------------------------------
# 1. 基础项目信息 (Project Info)
# ------------------------------------------------------------------------------
SCRIPT_NAME="VPS Scripts"
SCRIPT_VERSION="2.6.0"
PROJECT_URL="https://github.com/everett7623/vps_scripts/"
UPDATE_CHECK_URL="https://raw.githubusercontent.com/everett7623/vps_scripts/main/version.json"

# ------------------------------------------------------------------------------
# 2. 路径与目录配置 (Path Configuration)
# ------------------------------------------------------------------------------
# 脚本工作根目录 (通常由 vps.sh 动态获取，此处作为后备默认值)
BASE_DIR="/root/vps_scripts"

# 日志文件路径
LOG_DIR="/var/log/vps_scripts"
LOG_FILE="${LOG_DIR}/main.log"

# 临时下载/缓存目录
TEMP_DIR="/tmp/vps_scripts_cache"

# 备份目录 (用于存放配置备份文件)
BACKUP_DIR="/var/backups/vps_scripts"

# ------------------------------------------------------------------------------
# 3. 日志与调试开关 (Logging & Debug)
# ------------------------------------------------------------------------------
# 日志级别 (0=DEBUG, 1=INFO, 2=WARN, 3=ERROR)
LOG_LEVEL=1

# 是否启用日志文件记录
ENABLE_LOG=true

# 单个日志文件最大大小 (MB)，超过自动轮转
LOG_MAX_SIZE=10

# 是否启用调试模式 (输出更多详细信息)
DEBUG_MODE=false

# 是否启用彩色输出 (建议开启)
ENABLE_COLOR_OUTPUT=true

# 是否启用进度条动画
ENABLE_PROGRESS_BAR=true

# ------------------------------------------------------------------------------
# 4. 网络与连接配置 (Network Settings)
# ------------------------------------------------------------------------------
# 默认网络请求超时时间 (秒)
DEFAULT_TIMEOUT=30

# 文件下载最大重试次数
DOWNLOAD_RETRIES=3

# [新增] 是否使用国内镜像源 (CN_MIRROR)
# true: 强制使用国内源 (如阿里云/清华源，适用于国内机器)
# false: 使用官方源
# auto: 脚本自动根据 IP 地理位置决定 (推荐)
USE_CN_MIRROR="auto"

# [新增] 全局代理设置 (留空则不使用)
# 格式示例: "http://127.0.0.1:7890"
GLOBAL_PROXY=""

# ------------------------------------------------------------------------------
# 5. 系统依赖包定义 (Package Dependencies)
#    用于 scripts/system_tools/install_deps.sh
# ------------------------------------------------------------------------------
# 基础必备工具包 (所有模块都可能依赖)
BASIC_PACKAGES="curl wget git vim nano unzip zip tar net-tools ca-certificates openssl sudo jq"

# 网络测试工具包
NETWORK_PACKAGES="dnsutils iputils-ping mtr traceroute iperf3"

# 开发编译工具包 (用于源码编译安装)
DEV_PACKAGES="build-essential automake autoconf libtool make gcc g++"

# ------------------------------------------------------------------------------
# 6. 服务安装默认版本 (Service Versions)
#    用于 scripts/service_install/ 下的安装脚本
# ------------------------------------------------------------------------------
# Docker 安装源: official (官方), aliyun (阿里云), ustc (中科大)
DOCKER_INSTALL_SOURCE="official"

# LNMP 环境默认版本
NGINX_VERSION="1.24.0"      # 稳定版
MYSQL_VERSION="8.0"         # 推荐 8.0 或 5.7
PHP_VERSION="8.2"           # 推荐 8.1+
REDIS_VERSION="7.0"

# 面板安装默认设置
BT_PANEL_INSTALL_MODE="stable"  # 宝塔: stable / lts
PANEL_1PANEL_VERSION="latest"   # 1Panel

# ------------------------------------------------------------------------------
# 7. 性能与网络测试配置 (Benchmark Settings)
# ------------------------------------------------------------------------------
# CPU 测试时长 (秒)
CPU_TEST_DURATION=30

# 内存测试大小 (MB)
MEMORY_TEST_SIZE=1024

# 磁盘测试文件大小 (MB)
DISK_TEST_SIZE=1024

# IP 质量检测 API (首选 ip.sb)
IP_QUALITY_API="https://api.ip.sb/geoip"

# 流媒体测试超时 (秒)
STREAMING_TEST_TIMEOUT=10

# 端口扫描默认范围
PORT_SCAN_RANGE="1-65535"

# 测速节点配置 (格式: 城市运营商,地址)
SPEEDTEST_NODES="
广州电信,gz-telecom.speed.test.com
上海联通,sh-unicom.speed.test.com
北京移动,bj-mobile.speed.test.com
香港CN2,hk-cn2.speed.test.com
日本软银,jp-softbank.speed.test.com
新加坡,sg.speed.test.com
美国洛杉矶,la.speed.test.com
"

# ------------------------------------------------------------------------------
# 8. 第三方脚本资源 (3rd Party URLs)
# ------------------------------------------------------------------------------
# 融合怪脚本 (SpiritlHL)
FUSION_SCRIPT_URL="https://raw.githubusercontent.com/spiritLHLS/ecs/main/ecs.sh"

# YABS 脚本
YABS_SCRIPT_URL="https://raw.githubusercontent.com/masonr/yet-another-bench-script/master/yabs.sh"

# 三网测速脚本
SPEEDTEST_SCRIPT_URL="https://raw.githubusercontent.com/spiritLHLS/speedtest-cli/main/speedtest.sh"

# ------------------------------------------------------------------------------
# 9. 系统优化参数 (System Optimization)
#    用于 scripts/system_tools/optimize_system.sh
# ------------------------------------------------------------------------------
# 默认系统语言
SYSTEM_LANG="zh_CN.UTF-8"

# 默认编辑器
DEFAULT_EDITOR="nano"

# 默认时区
DEFAULT_TIMEZONE="Asia/Shanghai"

# 默认 DNS 服务器 (Google, Cloudflare)
DEFAULT_DNS_SERVERS="8.8.8.8,1.1.1.1"

# Sysctl 内核优化参数 (将被写入 /etc/sysctl.conf)
SYSCTL_OPTIMIZATIONS="
net.ipv4.tcp_congestion_control=bbr
net.core.default_qdisc=fq
net.ipv4.tcp_fastopen=3
net.ipv4.tcp_syncookies=1
net.ipv4.tcp_tw_reuse=1
net.ipv4.ip_local_port_range=10000 65000
net.core.somaxconn=4096
net.ipv4.tcp_max_syn_backlog=8192
fs.file-max=1000000
"

# ==============================================================================
# ⚠️ 注意: 修改此文件后，如果在本地运行，建议重新加载或重启脚本以生效。
# ==============================================================================
